<nav aria-label="breadcrumb">
    <ol class="breadcrumb">
        <li class="breadcrumb-item" aria-current="page">{{'Labels.dashboard' | translate}}</li>
        <!-- <li class="breadcrumb-item active" aria-current="page">Library</li> -->
    </ol>
</nav>
<form [formGroup]="filterForm">
    <div class="row">

        <div class="col-sm-4">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>तालुका निवडा</mat-label>
                <mat-select formControlName="talukaId" (selectionChange)="this.getCenters();this.getbarChartByTaluka()">
                    <mat-option *ngFor="let taluka of talukaData" [value]="taluka.id">
                        {{webStorage.languageFlag == 'EN'?taluka.taluka:taluka.m_Taluka}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-sm-4">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>केंद्र निवडा</mat-label>
                <mat-select formControlName="centerId" (selectionChange)="this.getschools()">
                    <mat-option *ngFor="let center of centerData" [value]="center.id">
                        {{webStorage.languageFlag == 'EN'?center.center:center.m_Center}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
        <div class="col-sm-4">
            <mat-form-field appearance="outline" class="w-100">
                <mat-label>शाळा निवडा</mat-label>
                <mat-select formControlName="schoolId">
                    <mat-option *ngFor="let school of schoolData" [value]="school.value">
                        {{webStorage.languageFlag == 'EN'?school.schoolType :school.m_SchoolType }}
                    </mat-option>
                </mat-select>
            </mat-form-field>
        </div>
    </div>
</form>
<div class="row mb-3 g-2" id="dash-stats">
    <div class="col-sm-3">
        <div class="card card-body bg-blue">
            <div class="d-flex justify-content-between align-items-center">
                <div class="position-relative">
                    <img src="assets/images/statistical-icons/School-white.svg" class="bg-image">
                    <p>School</p>
                    <h3>{{dashboardCountData[0]?.schoolCount}}</h3>
                </div>
                <div class="right-img">
                    <img src="assets/images/statistical-icons/School.svg">
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <div class="card card-body bg-cyan">
            <div class="d-flex justify-content-between align-items-center">
                <div class="position-relative">
                    <img src="assets/images/statistical-icons/Teacher-white.svg" class="bg-image">
                    <p>Teachers</p>
                    <h3>{{dashboardCountData[0]?.teacherCount}}</h3>
                </div>
                <div class="right-img">
                    <img src="assets/images/statistical-icons/Teacher.svg">
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <div class="card card-body bg-voilet">
            <div class="d-flex justify-content-between align-items-center">
                <div class="position-relative">
                    <img src="assets/images/statistical-icons/Student-white.svg" class="bg-image">
                    <p>Students</p>
                    <h3>{{dashboardCountData[0]?.studentCount}}</h3>
                </div>
                <div class="right-img">
                    <img src="assets/images/statistical-icons/Student.svg">
                </div>
            </div>
        </div>
    </div>
    <div class="col-sm-3">
        <div class="card card-body bg-magenta">
            <div class="d-flex justify-content-between align-items-center">
                <div class="position-relative">
                    <img src="assets/images/statistical-icons/ZP-Officer-white.svg" class="bg-image">
                    <p>ZP Officers</p>
                    <h3>{{dashboardCountData[0]?.zpOfficerCount}}</h3>
                </div>
                <div class="right-img">
                    <img src="assets/images/statistical-icons/ZP-Officer.svg">
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mb-3">
    <div class="col-sm-4">
        <mat-card class="mb-3 plain-card">
            <mat-card-header class="card-header">
                नकाशा
            </mat-card-header>
            <mat-card-content class="card-body">
                <div id="mapsvg" class="text-center">
                    <!-- <img src="assets/distSVG/Osmanabad.svg" style="height: 200px;" class=""> -->
                </div>
            </mat-card-content>
        </mat-card>

        <mat-card class="plain-card">
            <mat-card-header class="card-header">
                Management wise Schools
            </mat-card-header>
            <mat-card-content class="card-body">
                <div id="chart">
                    <apx-chart [series]="piechartOptions.series" [chart]="piechartOptions.chart"
                        [labels]="piechartOptions.labels" [responsive]="piechartOptions.responsive"></apx-chart>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
    <div class="col-sm-8">
        <mat-card class="plain-card h-100">
            <mat-card-header class="card-header">
                <div class="d-flex align-items-center justify-content-between w-100">
                    <div>सर्वेक्षण केलेल्या विद्यार्थ्यांची एकूण संख्या</div>
                    <div>निवडलेली संख्या : <span class="fw-bold">{{selectedObj?.GroupId==1? dashboardCountData[0]?.totalStudent_1_2: selectedObj?.GroupId==2? dashboardCountData[0]?.totalStudent_3_5 :dashboardCountData[0]?.totalStudent_6_8}}</span></div>
                </div>
            </mat-card-header>

            <mat-card-content class="card-body">
                <div class="row">
                    <div class="col-sm-12">
                        <table class="table inner-table mb-3">
                            <thead>
                                <tr>
                                    <th *ngFor="let header of tableColumn">
                                        <div *ngIf="header.ischeckboxShow==false">
                                            {{header.label}}
                                        </div>
                                        <div *ngIf="header.ischeckboxShow==true">
                                            <div class="d-flex align-items-center justify-content-start">
                                                <div class="form-check">
                                                    <input class="form-check-input" type="checkbox" [disabled]="header.status==true" [(ngModel)]="header.status" (click)="checkData(header)">
                                                    <label class="form-check-label" for="flexCheckDefault">
                                                        {{header.label}}
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let item of dashboardCountData">
                                    <td>{{item?.totalStudent}}</td>
                                    <td>{{item?.totalStudent_1_2}}</td>
                                    <td>{{item?.totalStudent_3_5}}</td>
                                    <td>{{item?.totalStudent_6_8}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="row" *ngIf="showBarChartF">
                        <div class="col-sm-4 border-end" *ngFor="let bar of barchartOptions.series[0]; let i=index">
                            <h6 class="small fw-bold text-center mb-0">{{this.barchartOptions.xaxis.categories[0][i]}} स्तर</h6>
                            <apx-chart [series]="bar" [chart]="barchartOptions.chart"
                                [dataLabels]="barchartOptions.dataLabels" [plotOptions]="barchartOptions.plotOptions"
                                [responsive]="barchartOptions.responsive" [xaxis]="barchartOptions.xaxis"
                                [legend]="barchartOptions.legend" [fill]="barchartOptions.fill"></apx-chart>
                        </div>
                    </div>
                    <!-- <div class="col-sm-4 border-end">
                        <h6 class="small fw-bold text-center mb-0">गणित स्तर निवडा</h6>
                        <apx-chart [series]="barchartOptions.series[1]" [chart]="barchartOptions.chart"
                            [dataLabels]="barchartOptions.dataLabels" [plotOptions]="barchartOptions.plotOptions"
                            [responsive]="barchartOptions.responsive" [xaxis]="barchartOptions.xaxis"
                            [legend]="barchartOptions.legend" [fill]="barchartOptions.fill"></apx-chart>
                    </div>
                    <div class="col-sm-4">
                        <h6 class="small fw-bold text-center mb-0">इंग्रजी स्तर निवडा</h6>
                        <apx-chart [series]="barchartOptions.series[2]" [chart]="barchartOptions.chart"
                            [dataLabels]="barchartOptions.dataLabels" [plotOptions]="barchartOptions.plotOptions"
                            [responsive]="barchartOptions.responsive" [xaxis]="barchartOptions.xaxis"
                            [legend]="barchartOptions.legend" [fill]="barchartOptions.fill"></apx-chart>
                    </div> -->
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<div class="row">
    <div class="col-sm-12">
        <mat-card class="plain-card">
            <mat-card-header class="card-header">
                <div class="d-flex align-items-center flex-wrap justify-content-between w-100">
                    <div class="mb-3">तालुका निहाय मूल्यांकन</div>
                    <!-- <form [formGroup]="filterFormForBarGraph">
                        <div class="row">
                            <div class="col-sm-4" *ngIf="!f['talukaId'].value">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>तालुका निवडा</mat-label>
                                    <mat-select formControlName="filtertalukaId" (selectionChange)="this.getbarChartByTaluka()">
                                        <mat-option *ngFor="let taluka of talukaData" [value]="taluka.id">
                                            {{webStorage.languageFlag == 'EN'?taluka.taluka:taluka.m_Taluka}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4" *ngIf="f['talukaId'].value || fBgraph['filtertalukaId'].value">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>केंद्र निवडा</mat-label>
                                    <mat-select formControlName="filtercenterId" (selectionChange)="this.getbarChartByTaluka()">
                                        <mat-option *ngFor="let center of centerData" [value]="center.id">
                                            {{webStorage.languageFlag == 'EN'?center.center:center.m_Center}}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                            <div class="col-sm-4">
                                <mat-form-field appearance="outline" class="w-100">
                                    <mat-label>Subject</mat-label>
                                    <mat-select formControlName="filtersubjectId" (selectionChange)="this.getbarChartByTaluka()">
                                        <mat-option *ngFor="let subject of subjectData" [value]="subject.id ">
                                            {{webStorage.languageFlag == 'EN'?subject.subjectName :subject.m_SubjectName }}
                                        </mat-option>
                                    </mat-select>
                                </mat-form-field>
                            </div>
                        </div>
                    </form> -->
                    <!-- <div class="d-flex align-items-center justify-content-between flex-wrap flex-sm-nowrap gap-2">
                        
                 
                    </div> -->

                </div>
            </mat-card-header>
            <mat-card-content class="card-body">
                <form [formGroup]="filterFormForBarGraph">
                    <div class="row">
                        <div class="col-sm-3" *ngIf="!f['talukaId'].value">
                            <mat-form-field appearance="outline" class="w-100">
                                <mat-label>तालुका निवडा</mat-label>
                                <mat-select formControlName="filtertalukaId" (selectionChange)="this.getbarChartByTaluka()">
                                    <mat-option *ngFor="let taluka of talukaData" [value]="taluka.id">
                                        {{webStorage.languageFlag == 'EN'?taluka.taluka:taluka.m_Taluka}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-3" *ngIf="f['talukaId'].value || fBgraph['filtertalukaId'].value">
                            <mat-form-field appearance="outline" class="w-100">
                                <mat-label>केंद्र निवडा</mat-label>
                                <mat-select formControlName="filtercenterId" (selectionChange)="this.getbarChartByTaluka()">
                                    <mat-option *ngFor="let center of centerData" [value]="center.id">
                                        {{webStorage.languageFlag == 'EN'?center.center:center.m_Center}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                        <div class="col-sm-3">
                            <mat-form-field appearance="outline" class="w-100">
                                <mat-label>Subject</mat-label>
                                <mat-select formControlName="filtersubjectId" (selectionChange)="this.getbarChartByTaluka()">
                                    <mat-option *ngFor="let subject of subjectData" [value]="subject.id ">
                                        {{webStorage.languageFlag == 'EN'?subject.subjectName :subject.m_SubjectName }}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                </form>
                <div class="row" *ngIf="showBarChartS" id="taluka-charts">
                    <div class="col-sm border-end" *ngFor="let bar of barchartOptions.series[1]; let i=index">
                        <h6 class="small fw-bold text-center mb-0">{{this.barchartOptions.xaxis.categories[1][i]}}</h6>
                        <apx-chart [series]="bar" [chart]="barchartOptions.chart"
                            [dataLabels]="barchartOptions.dataLabels" [plotOptions]="barchartOptions.plotOptions"
                            [responsive]="barchartOptions.responsive" [xaxis]="barchartOptions.xaxis"
                            [legend]="barchartOptions.legend" [fill]="barchartOptions.fill"></apx-chart>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>